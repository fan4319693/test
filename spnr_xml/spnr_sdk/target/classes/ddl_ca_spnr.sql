CREATE TABLE SuperPNR(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`booking_date` VARCHAR(100) COMMENT '订单生成时间（一经生成就不变）',
`processing_status` VARCHAR(100) COMMENT '用于展示的订单状态',
`booking_status` VARCHAR(100) COMMENT '整个订单的状态，订单取消（非退票）时，该',
`ts_booking_status` VARCHAR(100) COMMENT '标识该SPNR所处状态',
`start_date` VARCHAR(100) COMMENT '该SPNR内第一段行程的出发时间',
`end_date` VARCHAR(100) COMMENT 'SPNR内最后一段行程的到达时间',
`destination` VARCHAR(100) COMMENT 'SPNR内第一段行程的到达地（三字码）',
`summary` VARCHAR(100) COMMENT '该属性标识该SPNR是否由数据库内Sum',
`tk_cancel_type` VARCHAR(100) COMMENT 'spnr内发生机票退票时，会添加该属性，',
`cancellation_date` VARCHAR(100) COMMENT '订单取消时间（非退票）无数据',
`full_history` VARCHAR(100) COMMENT 'spnr内是否包含了所有MP，true:',
`last_audit_id` int COMMENT '操作记录ID，SPNR的每次修改，都会自',
`last_modified` VARCHAR(100) COMMENT 'SPNR上一次修改时间',
`schema_version` VARCHAR(100) COMMENT 'SPNR所使用的Schema版本',
`source_address` VARCHAR(100) COMMENT '该SPNR生成时所在服务器的机器名/IP',
`cancel_time_limit` VARCHAR(100) COMMENT '清位时限, 用于记录订单的产品的清位时限')
COMMENT '存储SuperPNR接口基础属性'
;
CREATE TABLE Spnr_POS(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`airline_vendor_id` VARCHAR(100) COMMENT '所属航司两字码',
`channel` VARCHAR(100) COMMENT 'IBE:网站订单；B2B：第三方订单',
`iso_country` VARCHAR(100) COMMENT '发送请求方的国家代码',
`iso_currency` VARCHAR(100) COMMENT '订单出票的货币代码',
`locale` VARCHAR(100) COMMENT '标识用于创建此 SuperPNR 的语言',
`entry_point` VARCHAR(100) COMMENT '标识发出预订请求的入口点。取值为omni',
`requestor_id` VARCHAR(100) COMMENT 'IBE:网站订单，其他值：第三方公司代码',
`company_short_name` VARCHAR(100) COMMENT '订单请求方所属公司的名称',
`company_name_code` VARCHAR(100) COMMENT '订单请求方所属公司的ID')
COMMENT '存储订单的POS信息（在SPNR内有且仅有一个，其节点用于表明该SPNR所属的航空公司、预定渠道等。）'
;
CREATE TABLE Spnr_contact(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`audit_id` int COMMENT '此Customer节点增加、修改时的Au',
`customer_id` VARCHAR(100) COMMENT 'Customer节点在该SPNR内的唯一',
`seq_no` bigint COMMENT '仅用于数据库记录的特定用途',
`historic` VARCHAR(100) COMMENT '该Customer节点是否生效。true',
`account_type` int COMMENT '旅客类型，1代表注册用户，2代表游客',
`oj_super_pnr_rph` int COMMENT '联系人在SPNR内的序号，SPNR内唯一',
`passenger_type_code` VARCHAR(100) COMMENT '联系人类型，默认为ADT（成人）',
`name` VARCHAR(100) COMMENT '联系人姓名',
`telephone` VARCHAR(100) COMMENT '联系人电话 存储联系电话，由@Phon',
`email` VARCHAR(100) COMMENT '联系人邮箱',
`address_formatted_ind` VARCHAR(100) COMMENT '联系人地址是否格式化',
`address_lineindex` int COMMENT 'nan',
`city_name` VARCHAR(100) COMMENT '联系人所在城市名',
`postal_code` VARCHAR(100) COMMENT '联系人所在地邮编',
`country_name` VARCHAR(100) COMMENT '联系人所在地国家码',
`contactname` VARCHAR(100) COMMENT '当前账号拥有者的姓名 Surname：中',
`contact_prefix` VARCHAR(100) COMMENT '当前账号拥有者的称谓 (例如, Mr.,',
`contact_tel` VARCHAR(100) COMMENT ' 存储当前账号拥有者的联系电话，由@Ph',
`contact_email` VARCHAR(100) COMMENT '当前账号拥有者的联系邮箱',
`contact_doc_id` VARCHAR(100) COMMENT '当前账号拥有者的证件号码',
`contact_doc_type` VARCHAR(100) COMMENT '当前账号拥有者的证件类型',
`contact_doc_nationality` VARCHAR(100) COMMENT '当前账号拥有者的证件签发国',
`contact_doc_expire_date` VARCHAR(100) COMMENT '当前账号拥有者的证件过期日期',
`unique_id` VARCHAR(100) COMMENT '该SPNR所属账号ID',
`unique_id_context` VARCHAR(100) COMMENT '账号来源')
COMMENT '存储联系人信息'
;
CREATE TABLE Spnr_passengers(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`audit_id` int COMMENT '此Customer节点增加、修改时的Au',
`customer_id` VARCHAR(100) COMMENT 'Customer节点在该SPNR内的唯一',
`seq_no` bigint COMMENT '仅用于数据库记录的特定用途',
`age` VARCHAR(100) COMMENT '旅客年龄',
`birth_date` VARCHAR(100) COMMENT '出生年月日',
`oj_super_pnr_rph` VARCHAR(100) COMMENT '当前旅客在SPNR内唯一标识',
`passenger_type_code` VARCHAR(100) COMMENT '乘机人乘客类型代码',
`traveler_name` VARCHAR(100) COMMENT '乘机人姓名 Surname：中文姓名，或',
`name_prefix` VARCHAR(100) COMMENT '乘机人称谓 (例如, Mr., Mrs.',
`telephone` VARCHAR(100) COMMENT '存储乘机人电话，由@PhoneTechT',
`citizen_country_code` VARCHAR(100) COMMENT '乘机人国籍',
`doc_id` VARCHAR(100) COMMENT '乘机人证件号码',
`doc_type` int COMMENT '乘机人证件类型',
`doc_nationality` VARCHAR(100) COMMENT '乘机人证件签发国',
`doc_expire_date` VARCHAR(100) COMMENT '乘机人证件过期日期')
COMMENT '存储订单旅客信息'
;
CREATE TABLE Spnr_Audits(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`audit_id` int COMMENT '该Audit节点的唯一标识，每次操作都递',
`requestor_id` VARCHAR(100) COMMENT '发起此次操作请求的渠道ID',
`channel` VARCHAR(100) COMMENT '发起此次操作的渠道',
`version` VARCHAR(100) COMMENT '版本号',
`ops_timestamp` VARCHAR(100) COMMENT '发起此次操作请求的时间 注：非北京时间，',
`source_address` VARCHAR(100) COMMENT '发起此次操作请求的IP地址',
`action` VARCHAR(100) COMMENT '记录此次操作类型',
`agent` VARCHAR(100) COMMENT '渠道名或ID',
`agent_url` VARCHAR(100) COMMENT '处理该次请求的服务器IP',
`agency` VARCHAR(100) COMMENT '渠道名或ID',
`event_context` VARCHAR(100) COMMENT '记录操作的产品类型',
`event_id` int COMMENT '该产品的Product ID',
`event_oj_super_pnr_rph` VARCHAR(100) COMMENT '导致改变的Traveler',
`event_orig_value` VARCHAR(100) COMMENT '改变之前的值',
`event_ref_id` VARCHAR(100) COMMENT '改变之后的值',
`event_path` VARCHAR(100) COMMENT '涉及的信息路径',
`event_type` VARCHAR(100) COMMENT '改变值的类型',
`event_flt_seg_rph` VARCHAR(100) COMMENT '导致改变的FlightSegment',
`event_ref_path` VARCHAR(100) COMMENT '值的路径')
COMMENT '存储订单的操作日志详情（SPNR每发生一次修改，Audits下都会新增一个子节点Audit,用于存储此次修改的发生时间、操作IP等信息）'
;
CREATE TABLE Spnr_Queues(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`queue_id` int COMMENT '队列ID，数据表里作为主键存在，唯一值',
`active` VARCHAR(100) COMMENT 'SPNR该是否处于该队列下',
`queue_name` VARCHAR(100) COMMENT '队列名',
`action` VARCHAR(100) COMMENT 'Add:加入队列Delete:从队列中移',
`agent` VARCHAR(100) COMMENT '触发此次操作的渠道',
`ops_date` VARCHAR(100) COMMENT '触发此次操作的时间，非北京时间，需+8处',
`seq_no` bigint COMMENT '数据库中的序列号',
`urgent` VARCHAR(100) COMMENT '表示此项是否需要立即处理',
`reason` VARCHAR(100) COMMENT '此次操作的原因')
COMMENT '存储订单的队列信息（每个Queue子节点，都代表一个队列，用于存储订单该、曾经所存在的队列）'
;
CREATE TABLE Spnr_Pricing(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`post_amt` VARCHAR(100) COMMENT '配送费？',
`pre_amt` VARCHAR(100) COMMENT '原始价格',
`pre_ori_amt` VARCHAR(100) COMMENT '未知，待核实',
`adjustments_amt` VARCHAR(100) COMMENT '要支付的总调价金额，所有子节点Price',
`amendments_amt` VARCHAR(100) COMMENT '要支付的总手续费金额，所有子节点Amen',
`total_amt` VARCHAR(100) COMMENT '实际总价',
`total_ori_amt` VARCHAR(100) COMMENT '未知，待核实')
COMMENT '存储订单的价格信息'
;
CREATE TABLE Spnr_PriceAdjustment(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`adjust_date` VARCHAR(100) COMMENT '进行此次调价的时间，非北京时间',
`code` VARCHAR(100) COMMENT '对应此次调价的业务配置的CODE值',
`product_type` VARCHAR(100) COMMENT '这一调整适用的产品类型',
`description` VARCHAR(100) COMMENT '此次调价信息描述',
`amt` double COMMENT '对应此次调价需支付的金额',
`currency_code` VARCHAR(100) COMMENT '货币单位',
`unit_amt` double COMMENT '该价格调整元素的单位金额',
`audit_id` VARCHAR(100) COMMENT 'SuperPNR 中audit的操作标识',
`passenger_type_code` VARCHAR(100) COMMENT '这一调整适用的旅客类型',
`flight_segment_rph` VARCHAR(100) COMMENT '这一调整适用的航段序号',
`agent` VARCHAR(100) COMMENT '渠道名或ID',
`agent_url` VARCHAR(100) COMMENT '处理该次请求的服务器IP',
`agency` VARCHAR(100) COMMENT '渠道名或ID')
COMMENT '存储订单的调价信息（如折扣、额外收费等。每增加一次调价，子节点增加一次。）'
;
CREATE TABLE Spnr_AmendmentFee(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`product_number` VARCHAR(100) COMMENT '对应增加此笔手续费的MP的@Produc',
`amt` double COMMENT '对应此次手续费金额',
`currency_code` VARCHAR(100) COMMENT '货币单位',
`ops_date` VARCHAR(100) COMMENT '增加此笔手续费的时间，非北京时间',
`audit_id` VARCHAR(100) COMMENT 'SuperPNR 中audit的操作标识',
`manual` VARCHAR(100) COMMENT '是否人工调整',
`master_product_number` VARCHAR(100) COMMENT '未知，待核实',
`replaced_by` VARCHAR(100) COMMENT '未知，待核实')
COMMENT '存储订单的手续费（一般改期升舱需要手续费时，会在此节点下加入。每增加一次手续费，子节点增加一次。）'
;
CREATE TABLE Spnr_PaymentDetails(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`balance_amt` double COMMENT '统计整个SPNR的收支情况 Amout ',
`balance_currency` VARCHAR(100) COMMENT '收支统计货币单位',
`payments_amt` double COMMENT '旅客已支付的金额（银行直减、优惠券等也参',
`payments_currency` VARCHAR(100) COMMENT '已支付的金额货币单位',
`actual_amt` double COMMENT '旅客实际支付的现金，银行直减、优惠券等优',
`last_modified` VARCHAR(100) COMMENT '最后一次修改Payments节点的时间，')
COMMENT '存储订单的收支总信息（用于记录整笔订单的支付、退款、里程支付、银行直减等和支付相关的信息）'
;
CREATE TABLE Spnr_Paymentinfo(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`id` VARCHAR(100) COMMENT '当前Payment在SPNR内的唯一标识',
`seq_no` bigint COMMENT '数据库自增字段',
`amt` double COMMENT '此次Payment记录对应的金额 @Am',
`audit_id` VARCHAR(100) COMMENT '添加该Payment时的Audit ID',
`currency_code` VARCHAR(100) COMMENT '货币单位',
`historic` VARCHAR(100) COMMENT 'true:该Payment为历史记录，不',
`history_id` VARCHAR(100) COMMENT 'nan',
`payment_date` VARCHAR(100) COMMENT '添加此Payment的时间，非北京时间',
`product_list` VARCHAR(100) COMMENT 'RPH list of Products',
`status` VARCHAR(100) COMMENT '支付状态： Paid：已支付 Unpai',
`transaction_type` VARCHAR(100) COMMENT 'Debit：付款 Credit：退款',
`pre_pay_ind` VARCHAR(100) COMMENT '该笔支付是否让订单出票',
`agent` VARCHAR(100) COMMENT '渠道名或ID',
`agent_url` VARCHAR(100) COMMENT '处理该次请求的服务器IP',
`agency` VARCHAR(100) COMMENT '渠道名或ID',
`payment_form_type` int COMMENT '支付类型： 101 - ',
`ref_code` VARCHAR(100) COMMENT '此特定参考的代码。 常用的参考代码是: ')
COMMENT '存储订单的每一笔支付信息'
;
CREATE TABLE Spnr_remarks(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`active` VARCHAR(100) COMMENT '该Remark是否是激活状态，还是已成为',
`audit_id` VARCHAR(100) COMMENT '跟审计节点关联的ID',
`code` VARCHAR(100) COMMENT '动作代码',
`code_context` VARCHAR(100) COMMENT 'nan',
`remark_date` VARCHAR(100) COMMENT 'nan',
`history_rph` VARCHAR(100) COMMENT 'nan',
`last_modified` VARCHAR(100) COMMENT 'nan',
`rph` VARCHAR(100) COMMENT 'why not ',
`seq_no` VARCHAR(100) COMMENT 'nan',
`agent` VARCHAR(100) COMMENT '渠道名或ID',
`qualifier_description` VARCHAR(100) COMMENT '所记录审核信息的类型',
`qualifier_value` VARCHAR(100) COMMENT '所记录审核信息的值',
`flight_segment_rph` VARCHAR(100) COMMENT '审核所处理的航段序号',
`oj_super_pnr_rph` VARCHAR(100) COMMENT '审核所处理的旅客序号',
`e_ticket_number` VARCHAR(100) COMMENT '审核所关联的电子客票号',
`passenger_type_code` VARCHAR(100) COMMENT '旅客类型',
`history_id` VARCHAR(100) COMMENT '审核所处理产品的原始ID',
`product_number` VARCHAR(100) COMMENT '审核所处理产品ID')
COMMENT '存储订单的退后审核信息'
;
CREATE TABLE Spnr_AssociatedBooking(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`associate_super_pnr_id` VARCHAR(100) COMMENT '关联订单号',
`booking_status` VARCHAR(100) COMMENT '关联产品状态',
`association_type` VARCHAR(100) COMMENT '用来标明关联订单是该订单的 ?PAREN',
`history_id` VARCHAR(100) COMMENT '历史id',
`product_id` VARCHAR(100) COMMENT '产品id',
`refund_apply_id` VARCHAR(100) COMMENT '退票申请单号',
`status` VARCHAR(100) COMMENT '产品状态',
`type` VARCHAR(100) COMMENT '产品类型',
`reshop_id` VARCHAR(100) COMMENT '改期升舱单号',
`refund_apply_time` VARCHAR(100) COMMENT '退票申请时间',
`rph` VARCHAR(100) COMMENT '航段序号',
`departure_date` VARCHAR(100) COMMENT '出发日期',
`flight_number` VARCHAR(100) COMMENT '航班号',
`origin_destination` VARCHAR(100) COMMENT '出发到达城市组合',
`flight_segment_rph` VARCHAR(100) COMMENT '对应的航段序号',
`ticketing_status` VARCHAR(100) COMMENT '票面状态',
`e_ticket_number` VARCHAR(100) COMMENT '机票票号',
`traveler_rph` VARCHAR(100) COMMENT '乘客序号',
`profile_id` VARCHAR(100) COMMENT '预定id',
`profile_type` VARCHAR(100) COMMENT '预订人类型')
COMMENT '存储关联订单信息'
;
CREATE TABLE Spnr_MP(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`booked_with` VARCHAR(100) COMMENT 'Link to the @history',
`booking_channel` VARCHAR(100) COMMENT '预订产品的SUPPLIER渠道',
`booking_date` VARCHAR(100) COMMENT 'MP预订时间，非北京时间',
`booking_status` VARCHAR(100) COMMENT 'MP状态',
`cancellation_date` VARCHAR(100) COMMENT '取消时间',
`end_date` VARCHAR(100) COMMENT 'MP内最后一个航段的到达时间',
`historic` VARCHAR(100) COMMENT '该MP是否有效',
`historic_id` VARCHAR(100) COMMENT '表明该MP是从哪一个最原始的MP变化而来',
`last_modified` VARCHAR(100) COMMENT '该MP最后一次修改时间，非北京时间',
`master_product_number` VARCHAR(100) COMMENT '如果此产品是另一个产品的附加产品，则它包',
`primary_lang_id` VARCHAR(100) COMMENT '预订使用的语言',
`product_id` VARCHAR(100) COMMENT 'PNR 级别的每个产品的自定义产品 ID',
`product_type` VARCHAR(100) COMMENT '产品类别',
`product_type_code` VARCHAR(100) COMMENT '产品类别Code值',
`start_date` VARCHAR(100) COMMENT '该MP第一个航段的起飞时间',
`synchronised` VARCHAR(100) COMMENT '该MP是否进行过同步',
`tsbooking_status` VARCHAR(100) COMMENT '国航用来扩充标识国航产品状态的字段',
`live_id` VARCHAR(100) COMMENT '指的是哪一个MP是在本MP上变化而来的,',
`refundable` VARCHAR(100) COMMENT '是否允许退票',
`replaced_by` VARCHAR(100) COMMENT '未知，待核实',
`agent_duty_code` VARCHAR(100) COMMENT '票台officeno',
`ersp_user_id` VARCHAR(100) COMMENT '未知，待核实',
`terminal_id` VARCHAR(100) COMMENT '未知，待核实',
`requestor_id` VARCHAR(100) COMMENT '未知，待核实',
`company_code` VARCHAR(100) COMMENT '未知，待核实',
`company_code_context` VARCHAR(100) COMMENT '未知，待核实',
`company_name` VARCHAR(100) COMMENT 'TSDF:国内票 TSIF:国际票',
`supplier_notes` VARCHAR(100) COMMENT '每个Note对应一条信息，以@Type和')
COMMENT '存储MP的基础属性（ModularProduct（简称MP），是SPNR下最重要的一个节点，每一个MP都代表着一个产品的详情信息，如机票、保险、预付费座位、预付费餐食等预定信息，都保存在其对应的MP内。）'
;
CREATE TABLE MP_AirAirItinerary(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`direction_ind` VARCHAR(100) COMMENT '行程类型',
`doc_required` VARCHAR(100) COMMENT '确定此行程是否需要 API/TSA 信息',
`od_rph` VARCHAR(100) COMMENT 'OD在该MP内的唯一序列号',
`od_majority_carrier` VARCHAR(100) COMMENT 'OD航司两字码',
`booking_channel` VARCHAR(100) COMMENT '供应商',
`od_openjaw` VARCHAR(100) COMMENT 'OD缺口程判断标志',
`od_duration` VARCHAR(100) COMMENT 'OD航程时间',
`infant_avail_quantity` int COMMENT 'OD航程允许的剩余婴儿数量',
`marketing_flight_num` VARCHAR(100) COMMENT '通程航班虚拟航班号（特殊需求）')
COMMENT '存储了MP内所有行程的信息'
;
CREATE TABLE MP_AirAirItinerary_segment(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`od_rph` VARCHAR(100) COMMENT 'OD在该MP内的唯一序列号',
`flight_segment_rph` VARCHAR(100) COMMENT '航段RPH，SPNR内唯一序号',
`info_source` VARCHAR(100) COMMENT '国内/国际',
`mod_type` VARCHAR(100) COMMENT 'nan',
`original_rph` VARCHAR(100) COMMENT 'nan',
`dport` VARCHAR(100) COMMENT '出发机场三字码',
`dport_context` VARCHAR(100) COMMENT '标识识别码的上下文，例如 IATA、Lo',
`dport_terminal` VARCHAR(100) COMMENT '出发机场航站楼',
`dcity` VARCHAR(100) COMMENT '出发城市代码',
`dcountry` VARCHAR(100) COMMENT '出发机场国家码',
`aport` VARCHAR(100) COMMENT '到达机场三字码',
`aport_context` VARCHAR(100) COMMENT '标识识别码的上下文，例如 IATA、AR',
`aport_terminal` VARCHAR(100) COMMENT '到达机场航站楼',
`acity` VARCHAR(100) COMMENT '到达城市代码',
`acountry` VARCHAR(100) COMMENT '到达机场国家码',
`departure_time` VARCHAR(100) COMMENT '航班出发时间',
`ori_departure_time` VARCHAR(100) COMMENT '航班原定出发时间',
`arrival_time` VARCHAR(100) COMMENT '航段到达时间',
`marketing_flight_no` VARCHAR(100) COMMENT '航班号',
`operating_flight_no` VARCHAR(100) COMMENT '承运航班号',
`cabin_code` VARCHAR(100) COMMENT '舱等',
`subclass` VARCHAR(100) COMMENT '预定舱位',
`status` VARCHAR(100) COMMENT '航段主机状态：RR、NO、OPEN',
`duration` VARCHAR(100) COMMENT '航班飞行时间',
`infant_avail_quantity` VARCHAR(100) COMMENT '航程允许的剩余婴儿数量',
`meal_code` VARCHAR(100) COMMENT '餐食代号',
`segment_type` VARCHAR(100) COMMENT '分销系统航段类型，多用于国际',
`inv_control` VARCHAR(100) COMMENT '是否占座限制',
`mileage` VARCHAR(100) COMMENT '里程积累',
`stop_quantity` VARCHAR(100) COMMENT '经停次数',
`pre_checkin` VARCHAR(100) COMMENT '航班是否可进行预值机',
`online_checkin` VARCHAR(100) COMMENT '是否是线上值机',
`air_equip_type` VARCHAR(100) COMMENT '机型',
`stop_over` VARCHAR(100) COMMENT '经停地代码',
`stoppoint` VARCHAR(100) COMMENT '经停机场',
`stop_context` VARCHAR(100) COMMENT '经停地点code类型',
`stop_time` VARCHAR(100) COMMENT '经停时间',
`av_rph` VARCHAR(100) COMMENT 'AV序号',
`av_subclass` VARCHAR(100) COMMENT '预订的子舱',
`av_subclass_quantity` VARCHAR(100) COMMENT '子舱剩余数（不代表实时数值）',
`av_subclass_status` VARCHAR(100) COMMENT '子舱舱位开放状态')
COMMENT '存储了MP内所有行程航段信息、AV信息、航班经停信息等'
;
CREATE TABLE MP_AirAirItinerary_baggage(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`od_rph` VARCHAR(100) COMMENT 'OD在该MP内的唯一序列号',
`baggage_rph` VARCHAR(100) COMMENT '行李额序号',
`fligh_segment_rph` VARCHAR(100) COMMENT '行李额对应的FlightSegment ',
`pieces` int COMMENT '行李件数',
`traveler_rph` VARCHAR(100) COMMENT '行李对应的Traveler序号',
`pricing_rph` VARCHAR(100) COMMENT '行李对应的运价RPH',
`weight` VARCHAR(100) COMMENT '行李重量',
`weight_count` int COMMENT '行李重量值',
`weight_unit` VARCHAR(100) COMMENT '行李重量单位',
`size_code` VARCHAR(100) COMMENT '行李尺寸单位',
`size_description` VARCHAR(100) COMMENT '行李尺寸描述',
`size_height` VARCHAR(100) COMMENT '行李高度',
`size_length` VARCHAR(100) COMMENT '行李长度',
`width` VARCHAR(100) COMMENT '行李宽度',
`special_item_code` VARCHAR(100) COMMENT '计件制，计重制',
`special_item_context` VARCHAR(100) COMMENT '未知，待核实',
`special_item_uri` VARCHAR(100) COMMENT '未知，待核实',
`is_fpc` VARCHAR(100) COMMENT '未知，待核实',
`passage_type_code` VARCHAR(100) COMMENT '乘客资质')
COMMENT '存储了MP的免费行李信息'
;
CREATE TABLE MP_AirPriceInfo_ItinTotalFare(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`pricing_source` VARCHAR(100) COMMENT '公共运价/私有运价',
`fare_family_code` VARCHAR(100) COMMENT '主机返回的运价CODE值',
`farefamily_name` VARCHAR(100) COMMENT '主机返回的运价名',
`price_quote_date` VARCHAR(100) COMMENT 'QTE时间',
`base_fare_adjusted` VARCHAR(100) COMMENT '未知，待核实',
`base_fare_amt` VARCHAR(100) COMMENT '不含税的库存价格',
`base_fare_ori_amt` VARCHAR(100) COMMENT '未知，待核实',
`tax_deatils` VARCHAR(100) COMMENT '税收详情',
`total_fare_adjusted` VARCHAR(100) COMMENT '未知，待核实',
`total_fare_amt` VARCHAR(100) COMMENT '乘客将支付的总价格（包括票价、税费、费用',
`total_fare_ori_amt` VARCHAR(100) COMMENT '未知，待核实')
COMMENT '存储MP的行程总价'
;
CREATE TABLE MP_AirPriceInfo_PTCs(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`passenger_type_code` VARCHAR(100) COMMENT '旅客类型',
`ptc_sub_type` VARCHAR(100) COMMENT '未知，待核实',
`quantity` VARCHAR(100) COMMENT '旅客数量',
`base_fare_adjusted` VARCHAR(100) COMMENT '未知，待核实',
`base_fare_amt` VARCHAR(100) COMMENT '不含税的库存价格',
`base_fare_ori_amt` VARCHAR(100) COMMENT '未知，待核实',
`tax_deatils` VARCHAR(100) COMMENT '税收详情',
`price_adjustments_amt` VARCHAR(100) COMMENT '调价',
`total_fare_adjusted` VARCHAR(100) COMMENT '未知，待核实',
`total_fare_amt` VARCHAR(100) COMMENT '乘客将支付的总价格（包括票价、税费、费用',
`total_fare_ori_amt` VARCHAR(100) COMMENT '未知，待核实',
`fc_avstring` VARCHAR(100) COMMENT '未知，待核实',
`fc_pnr_string` VARCHAR(100) COMMENT 'PNR中FC项信息',
`fc_string` VARCHAR(100) COMMENT '票价计算信息',
`fn_string` VARCHAR(100) COMMENT '票价组信息',
`char_set` VARCHAR(100) COMMENT '未知，待核实')
COMMENT '存储MP中每类乘客的运价统计信息'
;
CREATE TABLE MP_AirPriceInfo_FareInfos(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`flight_segment_rph` VARCHAR(100) COMMENT '航段序号',
`od_rph` VARCHAR(100) COMMENT 'OD序号',
`cabin_code` VARCHAR(100) COMMENT '舱等',
`subclass` VARCHAR(100) COMMENT '子舱',
`filing_airline_code` VARCHAR(100) COMMENT '通过公司代码标识公司',
`dport` VARCHAR(100) COMMENT '出发机场三字码',
`aport` VARCHAR(100) COMMENT '到达机场三字码',
`fare_basis` VARCHAR(100) COMMENT '运价基础',
`dis_count` double COMMENT '底价扣率',
`fc_price_ind` VARCHAR(100) COMMENT '用来记录一体运价拆分分组信息 如果为tu',
`fc_rph` VARCHAR(100) COMMENT '用来记录一体运价拆分分组信息 票价组件可',
`orig_pub_amt` VARCHAR(100) COMMENT '原始运价价钱，用于记录当运价发布使用外币',
`fare_basis_code` VARCHAR(100) COMMENT '此规则的票价的票价基础代码。 它可以是空',
`base_amt` VARCHAR(100) COMMENT '不含税价格',
`differ_fare` double COMMENT '价差',
`price_type` VARCHAR(100) COMMENT '价格类型',
`reissue_amt` double COMMENT '变更金额',
`reissue_fee` double COMMENT '变更费用',
`taxes_amt` double COMMENT '税收总价',
`total_fare` double COMMENT '总价格',
`tax_deatils` VARCHAR(100) COMMENT '税收详情',
`ptc_sub_type` VARCHAR(100) COMMENT '？',
`ptc_psg_type` VARCHAR(100) COMMENT 'PTC乘客资质',
`ptc_quantity` int COMMENT 'PTC数量',
`lowest_fare` VARCHAR(100) COMMENT '市场最低价',
`lowest_fare_subclass` VARCHAR(100) COMMENT '市场最低价子舱',
`earn_quantity` VARCHAR(100) COMMENT '？',
`fare_family_code` VARCHAR(100) COMMENT '与此票价关联的票价系列代码',
`fare_family_name` VARCHAR(100) COMMENT '主机返回的运价名',
`add_on_sort` VARCHAR(100) COMMENT '？',
`add_on_sort_name` VARCHAR(100) COMMENT 'Addon',
`add_on_char_set` VARCHAR(100) COMMENT '？')
COMMENT '存储MP中每个航段的详细运价、退改签等信息'
;
CREATE TABLE MP_AirPriceInfo_farefamily(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`fare_family_code` VARCHAR(100) COMMENT '与此票价关联的票价系列代码',
`fare_family_name` VARCHAR(100) COMMENT '主机返回的运价名',
`chd_rule_as_yfare` VARCHAR(100) COMMENT '儿童规则按Y运价',
`cabin_name` VARCHAR(100) COMMENT '舱等名',
`change_to_open` VARCHAR(100) COMMENT '改为Open票',
`description` VARCHAR(100) COMMENT '描述',
`domestic_self_checkin` VARCHAR(100) COMMENT '国内自助checkin',
`fare_basis` VARCHAR(100) COMMENT '运价基础',
`inf_rule_as_y_fare` VARCHAR(100) COMMENT '婴儿规则按Y运价',
`intl_self_checkin` VARCHAR(100) COMMENT '国际自助checkin',
`upgradable` VARCHAR(100) COMMENT '是否可升舱',
`user_type` VARCHAR(100) COMMENT '？',
`username` VARCHAR(100) COMMENT '？',
`change_aft_dept_rate` double COMMENT '航班出发后变更的费率',
`change_bef_dept_rate` double COMMENT '航班出发前变更的费率',
`change_currency` VARCHAR(100) COMMENT '航班变更费对应的货币种类',
`change_psg_type` VARCHAR(100) COMMENT '航班变更政策适用的旅客类型',
`change_time_threshold` VARCHAR(100) COMMENT '航班变更费计算的时间偏移量（相对于出发）',
`change_type` VARCHAR(100) COMMENT '航班变更费类型（百分比或数值）',
`change_voluntary` VARCHAR(100) COMMENT '变更自愿还是非自愿',
`change_policy_cabin` VARCHAR(100) COMMENT '变更政策适用的舱位',
`change_starttime` VARCHAR(100) COMMENT '航班起飞前区间起始时间',
`change_endtime` VARCHAR(100) COMMENT '航班起飞前区间结束时间',
`change_policy_rbd` VARCHAR(100) COMMENT '改期政策RBD',
`change_limit` VARCHAR(100) COMMENT '改期限制',
`refund_aft_dept_rate` double COMMENT '航班出发后退的费率',
`refund_bef_dept_rate` double COMMENT '航班出发前退的费率',
`refund_currency` VARCHAR(100) COMMENT '退费的货币类型',
`refund_psg_type` VARCHAR(100) COMMENT '退改政策适用的旅客类型',
`refund_time_threshold` VARCHAR(100) COMMENT '退费计算的时间偏移量（相对于航班出发时间',
`refund_type` VARCHAR(100) COMMENT '退费类型（百分比或数值）',
`refund_voluntary` VARCHAR(100) COMMENT '自愿非自愿标识',
`refund_policy_cabin` VARCHAR(100) COMMENT '退改政策适用舱位',
`refund_limit` VARCHAR(100) COMMENT '退票限制',
`refund_eligible` VARCHAR(100) COMMENT '退票乘客类型',
`refund_loyalty_refund_rule_id` VARCHAR(100) COMMENT '？',
`refund_endtime` VARCHAR(100) COMMENT '退票结束时间',
`refund_starttime` VARCHAR(100) COMMENT '退票开始时间',
`refund_policy_rbd` VARCHAR(100) COMMENT '退票政策RBD')
COMMENT '存储MP的品牌权益信息'
;
CREATE TABLE MP_AirTravelerInfo(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`oj_super_pnr_rph` VARCHAR(100) COMMENT '旅客在SPNR内唯一序列号',
`traveler_ref_number_rph` VARCHAR(100) COMMENT '旅客在MP中的唯一标识',
`passenger_type_code` VARCHAR(100) COMMENT '旅客类型',
`age` VARCHAR(100) COMMENT '年龄',
`gender` VARCHAR(100) COMMENT '性别',
`birth_date` VARCHAR(100) COMMENT '出生日期',
`ptcsub_type` VARCHAR(100) COMMENT '未知，待核实',
`verify_adt_accompanier_age` VARCHAR(100) COMMENT '未知，待核实',
`traveler_name` VARCHAR(100) COMMENT '乘机人姓名 Surname：中文姓名，或',
`name_prefix` VARCHAR(100) COMMENT '称谓 (例如, Mr., Mrs., M',
`telephone` VARCHAR(100) COMMENT '联系人电话 存储联系电话，由@Phon',
`doc_id` VARCHAR(100) COMMENT '证件号码',
`doc_type` int COMMENT '证件类型 \t身份证【5】 \t军',
`doc_nationality` VARCHAR(100) COMMENT '乘客国籍',
`doc_expire_date` VARCHAR(100) COMMENT '过期日期',
`birth_country` VARCHAR(100) COMMENT '乘客出生国家',
`doc_issue_country` VARCHAR(100) COMMENT '证件签发国家',
`additional_doc` VARCHAR(100) COMMENT '其他证件',
`doc_required` VARCHAR(100) COMMENT '证件要求',
`email` VARCHAR(100) COMMENT '邮箱',
`address_formatted_ind` VARCHAR(100) COMMENT '联系人地址是否格式化',
`address_lineindex` VARCHAR(100) COMMENT 'nan',
`city_name` VARCHAR(100) COMMENT '联系人所在城市名',
`postal_code` VARCHAR(100) COMMENT '联系人所在地邮编',
`country_name` VARCHAR(100) COMMENT '联系人所在地国家码',
`membership_id` VARCHAR(100) COMMENT '常客卡号',
`status` VARCHAR(100) COMMENT '常客卡状态',
`customer_value` VARCHAR(100) COMMENT '常客价值（VIP等）',
`loyal_level` VARCHAR(100) COMMENT '常客等级',
`signup_date` VARCHAR(100) COMMENT '成为常客的日期',
`effective_date` VARCHAR(100) COMMENT '常客生效日期',
`expire_date` VARCHAR(100) COMMENT '常客失效日期',
`single_vendor_ind` VARCHAR(100) COMMENT 'nan')
COMMENT '存储MP的乘机人信息、常旅客卡信息'
;

CREATE TABLE MP_AirTicketing(
  `super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
  `search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
  `product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
  `pnr` VARCHAR(100) COMMENT 'PNR号',
  `flight_segment_ref_number` int COMMENT '航段序号，唯一值，不变',
  `irr` VARCHAR(100) COMMENT '是否非自愿退票',
  `irr_reason` VARCHAR(100) COMMENT '非自愿退票原因',
  `issuing_agent_id` VARCHAR(100) COMMENT '出票票台',
  `item_number` VARCHAR(100) COMMENT '未知，待核实',
  `printed` VARCHAR(100) COMMENT '是否出票',
  `ticket_time` VARCHAR(100) COMMENT 'T出票时间，取自主机时间',
  `ticketing_status` VARCHAR(100) COMMENT '主机票面状态：OPEN FOR USE ',
  `traveler_ref_number` VARCHAR(100) COMMENT '旅客在该MP内的序号，非@OJ_Supe',
  `e_ticket_number` VARCHAR(100) COMMENT '票号',
  `ticket_time_limit` VARCHAR(100) COMMENT '最晚出票时间',
  `expiry_date_time` VARCHAR(100) COMMENT '记录客票有效期',
  `waitlist_status` VARCHAR(100) COMMENT '客票候补状态,用于表示客票是候补客票还是',
  `refund_audit_id` VARCHAR(100) COMMENT 'nan',
  `refund_historic` VARCHAR(100) COMMENT 'nan',
  `refund_history_id` VARCHAR(100) COMMENT 'nan',
  `refund_id` VARCHAR(100) COMMENT 'nan',
  `refund_status` VARCHAR(100) COMMENT 'nan',
  `refund_e_refund_number` VARCHAR(100) COMMENT 'nan')
COMMENT '存储MP的票面信息'
;

CREATE TABLE MP_AncillaryProduct(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
  `search_id` VARCHAR(100)  COMMENT '最终用户进行的搜索的 ID的唯一标识。',
  `product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
  `pnr` VARCHAR(100) COMMENT '该产品关联的机票PNR',
  `cancelable` VARCHAR(100) COMMENT '该产品是否能单独取消',
  `category` VARCHAR(100) COMMENT '该产品所关联的类别',
  `code` VARCHAR(100) COMMENT '对应此次调价的业务配置的CODE值',
  `book_date` VARCHAR(100) COMMENT '预定该产品的时间',
  `origin` VARCHAR(100) COMMENT '该产品对应航段的出发地',
  `destination` VARCHAR(100) COMMENT '该产品对应航段的目的地',
  `flight_number` VARCHAR(100) COMMENT '该产品对应航段的航班号',
  `flight_segment_rph` VARCHAR(100) COMMENT '该产品对应航段的航班序号',
  `marketing_airline` VARCHAR(100) COMMENT '该产品对应航段的航班市场方',
  `quantity` VARCHAR(100) COMMENT '产品数量',
  `refundable` VARCHAR(100) COMMENT '该产品能否单独退',
  `seat_number` VARCHAR(100) COMMENT '预付费座位特有，预定的座位号',
  `type` VARCHAR(100) COMMENT '产品类型',
  `is_seg_bind` VARCHAR(100) COMMENT '该产品是否与机票绑定',
  `traveler_ref_number_rph` VARCHAR(100) COMMENT 'nan',
  `e_ticket_number` VARCHAR(100) COMMENT 'nan',
  `ticket_advisory` VARCHAR(100) COMMENT 'nan',
  `contact_person_name` VARCHAR(100) COMMENT 'nan',
  `airport` VARCHAR(100) COMMENT '机场',
  `booking_channel` VARCHAR(100) COMMENT 'nan',
  `booking_reference_id` VARCHAR(100) COMMENT 'nan',
  `booking_status` VARCHAR(100) COMMENT 'nan',
  `cabin_class` VARCHAR(100) COMMENT 'nan',
  `carrier` VARCHAR(100) COMMENT 'nan',
  `name` VARCHAR(100) COMMENT 'nan',
  `origin_destination_rph` VARCHAR(100) COMMENT 'nan',
  `pool_id` VARCHAR(100) COMMENT 'nan',
  `product_sequence` VARCHAR(100) COMMENT 'nan',
  `ref` VARCHAR(100) COMMENT '不知道啥',
  `selling_proposition` VARCHAR(100) COMMENT 'nan',
  `sub_type` VARCHAR(100) COMMENT 'nan',
  `supplier_code` VARCHAR(100) COMMENT 'nan',
  `supplier_product_code` VARCHAR(100) COMMENT 'nan',
  `tag` VARCHAR(100) COMMENT 'nan',
  `terminal` VARCHAR(100) COMMENT 'nan',
  `cancel_penalty_deadline_offset_time_unit` VARCHAR(100) COMMENT 'nan',
  `cancel_penalty_deadline_offset_unit_multiplier` VARCHAR(100) COMMENT 'nan',
  `amount_percent` VARCHAR(100) COMMENT 'nan',
  `loyalty_level` VARCHAR(100) COMMENT 'nan',
  `passenger_type_code` VARCHAR(100) COMMENT 'nan',
  `base_amount` VARCHAR(100) COMMENT 'nan',
  `unit_price` VARCHAR(100) COMMENT 'nan',
  `price_adjustments_amount` VARCHAR(100) COMMENT 'nan',
  `total_adjusted` VARCHAR(100) COMMENT 'nan',
  `total_amount` VARCHAR(100) COMMENT 'nan',
  `checkin_offset_drop_time` VARCHAR(100) COMMENT 'nan',
  `checkin_offset_time_unit` VARCHAR(100) COMMENT 'nan',
  `checkin_offset_unit_multiplier` VARCHAR(100) COMMENT 'nan',
  `area_sub_type` VARCHAR(100) COMMENT 'nan',
  `area_type` VARCHAR(100) COMMENT 'nan',
  `capacity` VARCHAR(100) COMMENT 'nan',
  `room_code` VARCHAR(100) COMMENT '休息室',
  `room_opentime_language` VARCHAR(100) COMMENT 'nan',
  `descriptive_text` VARCHAR(100) COMMENT 'nan',
  `gate` VARCHAR(100) COMMENT 'nan',
  `room_language` VARCHAR(100) COMMENT 'nan',
  `display_name` VARCHAR(100) COMMENT 'nan',
  `airport_name` VARCHAR(100) COMMENT 'nan',
  `short_content` VARCHAR(100) COMMENT 'nan',
  `location_description` VARCHAR(100) COMMENT 'nan',
  `official_name` VARCHAR(100) COMMENT 'nan',
  `image_url` VARCHAR(100) COMMENT 'nan')
COMMENT '存储MP附加产品：预付费选座、预付费餐食'
;
CREATE TABLE MP_Baggage(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`cancelable` VARCHAR(100) COMMENT '行李能否单独取消',
`quantity` int COMMENT '产品数量',
`refundable` VARCHAR(100) COMMENT '该产品能否单独退',
`is_seg_bind` VARCHAR(100) COMMENT '该产品是否与机票绑定',
`departure_code` VARCHAR(100) COMMENT '行李相对应的航段出发地',
`arrival_code` VARCHAR(100) COMMENT '行李相对应的航段到达地',
`max_weight_unit` VARCHAR(100) COMMENT '最大重量计量单位',
`max_dimensionsl_cm` VARCHAR(100) COMMENT '购买的行李最大尺寸长度',
`max_dimensions_units` VARCHAR(100) COMMENT '最大尺寸计量单位',
`adjusted` VARCHAR(100) COMMENT '调整金额',
`amt` VARCHAR(100) COMMENT '金额',
`amt_before_tax` VARCHAR(100) COMMENT '税前金额',
`currency_code` VARCHAR(100) COMMENT '货币代码',
`decimal_places` VARCHAR(100) COMMENT '未知，待核实',
`ori_amt_after_tax` VARCHAR(100) COMMENT '未知，待核实',
`ori_currency_code` VARCHAR(100) COMMENT '原始货币代码',
`flight_segment_number` VARCHAR(100) COMMENT '航班号',
`segment_id_ref` VARCHAR(100) COMMENT '对应的航段序号',
`traveler_id_ref` VARCHAR(100) COMMENT '对应的旅客序号',
`flight_segment_ref_number` VARCHAR(100) COMMENT '航段序号，唯一值，不变',
`geo_indicator` VARCHAR(100) COMMENT '未知，待核实',
`sale_model` VARCHAR(100) COMMENT '销售模式',
`ticket_time` VARCHAR(100) COMMENT '出票时间',
`ticketing_status` VARCHAR(100) COMMENT '出票状态',
`e_ticket_number` VARCHAR(100) COMMENT '票号',
`ticket_advisory` VARCHAR(100) COMMENT 'PNR中展示的附加服务明细',
`cancel_amount` VARCHAR(100) COMMENT '退行李手续费')
COMMENT '存储MP附加产品：预付费行李'
;
CREATE TABLE MP_Pricing(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`pre_amt` VARCHAR(100) COMMENT '原始价格',
`pre_pay_ind` VARCHAR(100) COMMENT '该笔支付是否让订单出票',
`adjustments_amt` VARCHAR(100) COMMENT '总调价金额',
`total_amt` VARCHAR(100) COMMENT '实际总价',
`cancellation_fees` VARCHAR(100) COMMENT '扣款信息金额',
`cancellation_refunds` VARCHAR(100) COMMENT '退票信息金额')
COMMENT '存储MP内产品的价格信息汇总'
;
CREATE TABLE MP_Pricing_PriceAdjustments(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`adjust_date` VARCHAR(100) COMMENT '进行此次调价的时间，非北京时间',
`code` VARCHAR(100) COMMENT '对应此次调价的业务配置的CODE值',
`product_type` VARCHAR(100) COMMENT '这一调整适用的产品类型',
`description` VARCHAR(100) COMMENT '此次调价信息描述',
`amt` double COMMENT '对应此次调价需支付的金额',
`currency_code` VARCHAR(100) COMMENT '货币单位',
`unit_amt` double COMMENT '该价格调整元素的单位金额',
`audit_id` VARCHAR(100) COMMENT 'SuperPNR 中audit的操作标识',
`passenger_type_code` VARCHAR(100) COMMENT '这一调整适用的旅客类型',
`flight_segment_rph` VARCHAR(100) COMMENT '这一调整适用的航段序号',
`agent` VARCHAR(100) COMMENT '渠道名或ID',
`agent_url` VARCHAR(100) COMMENT '处理该次请求的服务器IP',
`agency` VARCHAR(100) COMMENT '渠道名或ID')
COMMENT '存储MP的调价信息'
;
CREATE TABLE MP_Pricing_AmendmentFee(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`amt` double COMMENT '对应此次手续费金额',
`currency_code` VARCHAR(100) COMMENT '货币单位',
`date` VARCHAR(100) COMMENT '增加此笔手续费的时间，非北京时间')
COMMENT '存储MP的手续费信息'
;
CREATE TABLE MP_Pricing_CancellationFees(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`oj_super_pnr_rph` VARCHAR(100) COMMENT '此次扣款对应的旅客序号。@OJ_Supe',
`amt` double COMMENT '此次扣款金额',
`currency_code` VARCHAR(100) COMMENT '货币单位',
`audit_id` VARCHAR(100) COMMENT '添加此CancellationFee的A',
`flight_segment_rph` VARCHAR(100) COMMENT '此次扣款对应的航段序号',
`added_date` VARCHAR(100) COMMENT '添加此节点的时间，非北京时间',
`master_product_number` VARCHAR(100) COMMENT '如果此产品是另一个产品的附加产品，则它包',
`percentage` VARCHAR(100) COMMENT '费率',
`cancel_product_number` VARCHAR(100) COMMENT '当前CancellationFee是在M',
`product_type` VARCHAR(100) COMMENT '产品类型',
`agent` VARCHAR(100) COMMENT '渠道名或ID',
`agent_url` VARCHAR(100) COMMENT '处理该次请求的服务器IP',
`agency` VARCHAR(100) COMMENT '渠道名或ID')
COMMENT '存储MP产品的扣款信息'
;
CREATE TABLE MP_Pricing_CancellationRefunds(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`allow_auto` VARCHAR(100) COMMENT '是否允许自动？',
`amt` VARCHAR(100) COMMENT '此次扣款金额',
`currency_code` VARCHAR(100) COMMENT '货币单位',
`audit_id` VARCHAR(100) COMMENT '添加此CancellationRefun',
`flight_segment_rph` VARCHAR(100) COMMENT '此次扣款对应的航段序号',
`master_product_number` VARCHAR(100) COMMENT '如果此产品是另一个产品的附加产品，则它包',
`oj_super_pnr_rph` VARCHAR(100) COMMENT 'MP内旅客序号唯一标识',
`cancel_rfd_product_number` VARCHAR(100) COMMENT '当前CancellationRefund',
`product_type` VARCHAR(100) COMMENT '产品类型',
`e_ticket_number` VARCHAR(100) COMMENT '票号',
`base_fare_amt` VARCHAR(100) COMMENT '基础票价',
`base_fare_refund_amt` VARCHAR(100) COMMENT '基础票价退票金额',
`taxes_refund` VARCHAR(100) COMMENT '税费金额',
`agent` VARCHAR(100) COMMENT '渠道名或ID',
`agent_url` VARCHAR(100) COMMENT '处理该次请求的服务器IP',
`agency` VARCHAR(100) COMMENT '渠道名或ID')
COMMENT '存储MP产品的退票费信息'
;
CREATE TABLE MP_Remarks(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`active` VARCHAR(100) COMMENT '该Remark是否是激活状态，还是已成为',
`audit_id` VARCHAR(100) COMMENT '跟审计节点关联的ID',
`code` VARCHAR(100) COMMENT '动作代码',
`code_context` VARCHAR(100) COMMENT 'nan',
`ops_date` VARCHAR(100) COMMENT 'nan',
`last_modified` VARCHAR(100) COMMENT 'nan',
`rph` VARCHAR(100) COMMENT 'why not',
`agent` VARCHAR(100) COMMENT 'nan',
`agent_source_address` VARCHAR(100) COMMENT 'nan',
`in_timestamp` VARCHAR(100) COMMENT 'nan',
`qualifier_description` VARCHAR(100) COMMENT 'nan',
`qualifier_value` VARCHAR(100) COMMENT 'nan',
`flight_segment_rph` VARCHAR(100) COMMENT '退所处理的航段序号',
`oj_super_pnr_rph` VARCHAR(100) COMMENT '退所处理的旅客序号',
`e_ticket_number` VARCHAR(100) COMMENT '退所关联的电子客票号',
`qualifier_item_name` VARCHAR(100) COMMENT 'nan',
`qualifier_item_value` VARCHAR(100) COMMENT 'nan',
`passenger_type_code` VARCHAR(100) COMMENT '旅客类型',
`history_id` VARCHAR(100) COMMENT '退所处理产品的原始ID',
`product_no` VARCHAR(100) COMMENT '退所处理产品ID',
`tax_code` VARCHAR(100) COMMENT 'nan')
COMMENT '存储MP产品退后审核信息'
;
CREATE TABLE MP_Audits(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`audit_id` VARCHAR(100) COMMENT '该Audit节点的唯一标识，每次操作都递',
`requestor_id` VARCHAR(100) COMMENT '发起此次操作请求的渠道ID',
`channel` VARCHAR(100) COMMENT '发起此次操作的渠道',
`version` VARCHAR(100) COMMENT '版本号',
`in_timestamp` VARCHAR(100) COMMENT '发起此次操作请求的时间 注：非北京时间，',
`source_address` VARCHAR(100) COMMENT '发起此次操作请求的IP地址',
`action` VARCHAR(100) COMMENT '记录此次操作类型',
`agent` VARCHAR(100) COMMENT '渠道名或ID',
`agent_url` VARCHAR(100) COMMENT '处理该次请求的服务器IP',
`agency` VARCHAR(100) COMMENT '渠道名或ID',
`event_context` VARCHAR(100) COMMENT '记录操作的产品类型',
`event_id` VARCHAR(100) COMMENT '该产品的Product ID',
`event_oj_super_pnr_rph` VARCHAR(100) COMMENT '导致改变的Traveler',
`event_orig_value` VARCHAR(100) COMMENT '改变之前的值',
`event_ref_id` VARCHAR(100) COMMENT '改变之后的值',
`event_path` VARCHAR(100) COMMENT '涉及的信息路径',
`event_type` VARCHAR(100) COMMENT '改变值的类型',
`event_flt_seg_rph` VARCHAR(100) COMMENT '导致改变的FlightSegment',
`event_ref_path` VARCHAR(100) COMMENT '值的路径')
COMMENT '存储MP发生修改时所关联的Audit ID'
;
CREATE TABLE MP_Ptcs(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`ptc_code` VARCHAR(100) COMMENT '旅客类型',
`ptc_quantity` int COMMENT '该类型旅客的数量',
`rph_list` VARCHAR(100) COMMENT '该类型旅客的OJ_SuperPNR_RP')
COMMENT '存储MP是哪些乘客使用，是对旅客类型、数量的一个简单统计。'
;
CREATE TABLE MP_ModifyTypes(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`audit_id` VARCHAR(100) COMMENT 'nan',
`original_history_id` VARCHAR(100) COMMENT 'nan',
`rph` VARCHAR(100) COMMENT 'why not',
`type` VARCHAR(100) COMMENT '对应操作的CODE值： AddRemar',
`free_date_change` VARCHAR(100) COMMENT '是否支持免费更改',
`old_mp_num` VARCHAR(100) COMMENT '改升时存在该属性，表示该MP是从哪一个M',
`split_required` VARCHAR(100) COMMENT '改升时存在该属性，表示原始MP是否需要进',
`need_cancel` VARCHAR(100) COMMENT '分离PNR时，该MP是否需要被cance',
`old_pnr` VARCHAR(100) COMMENT '分离PNR时，该MP的PNR是从哪个原始',
`reshop_id` VARCHAR(100) COMMENT '改期升舱编号. 固定编号+14位时间戳+')
COMMENT '存储MP产品经历了哪些变更操作（改升、改不定期、退票、分离PNR等操作）'
;
CREATE TABLE MP_PaymentRefs(
`super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
`search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
`product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
`pnr` VARCHAR(100) COMMENT 'PNR号',
`payment_refs_audit_id` VARCHAR(100) COMMENT 'nan',
`payment_state` VARCHAR(100) COMMENT 'MP支付状态： PaymentDue;',
`payment_ref_id` VARCHAR(100) COMMENT '相关联的PaymentDetails/P',
`payment_id` VARCHAR(100) COMMENT '相关联的PaymentDetails/P',
`payment_ref_audit_id` VARCHAR(100) COMMENT '相关联的PaymentDetails/P')
COMMENT '存储MP产品所关联的支付记录'
;

CREATE TABLE `MP_itineraryreceipt`(
  `super_pnr_id` VARCHAR(100) COMMENT 'SPNR ID，唯一标识',
  `search_id` VARCHAR(100) COMMENT '最终用户进行的搜索的 ID的唯一标识。',
  `product_number` VARCHAR(100) COMMENT '该SPNR内MP唯一序号',
  `channel` VARCHAR(100) COMMENT '行程单获取渠道',
  `itinerary_receipt_id` VARCHAR(100) COMMENT '行程单号',
  `logistics_id` VARCHAR(100) COMMENT '物流系统编号',
  `status` VARCHAR(100) COMMENT '行程单状态',
  `tracking_number` VARCHAR(100) COMMENT '追踪编号',
  `recipient_person_name` VARCHAR(100) COMMENT '行程单收件人姓名',
  `recipient_telephone` VARCHAR(100) COMMENT '行程单收件人电话',
  `recipient_address` VARCHAR(100) COMMENT '行程单收件人地址',
  `estimated_price` VARCHAR(100) COMMENT '配送费',
  `recipient_currency_code` VARCHAR(100) COMMENT '配送费币种',
  `product_arrival_date_time` VARCHAR(100) COMMENT '航班到达的时间和日期',
  `product_channel` VARCHAR(100) COMMENT '产品预订渠道',
  `product_geo_indicator` VARCHAR(100) COMMENT '产品类型，国内/国际',
  `product_history_id` VARCHAR(100) COMMENT '产品历史ID',
  `product_product_number` VARCHAR(100) COMMENT '产品product_number',
  `product_product_type` VARCHAR(100) COMMENT '产品类型',
  `product_e_ticket_number` VARCHAR(100) COMMENT '产品电子票号',
  `product_ticket_price` VARCHAR(100) COMMENT '产品金额',
  `product_currency_code` VARCHAR(100) COMMENT '产品金额货币单位',
  `product_passenger_name` VARCHAR(100) COMMENT '产品乘客姓名',
  `sequence_id` VARCHAR(100) COMMENT '同一个super_pnr_id会存在多条')
COMMENT '存储MP行程单信息';